import{q as p,r as o,j as e,N,a as b,J as c,f as h}from"./app-AIDFTJRs.js";import{A as y}from"./AuthenticatedLayout-DBkp5rbV.js";import{M as C,a as w,b as A}from"./index-SH8L1f-V.js";import{P as g}from"./Pagination-tbgjxAT8.js";import{A as D}from"./AlertDelete-DROSbcZA.js";import"./ApplicationLogo-CSuGBocz.js";import"./transition-B4OsJkZg.js";const v=t=>{if(!t)return"N/A";const n={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString(void 0,n)};function J({categories:t}){var i;const{auth:n}=p().props,a=(n==null?void 0:n.user)||{},[m,l]=o.useState(!1),[d,r]=o.useState(null),x=s=>{h.get(s,{},{preserveScroll:!0})},u=s=>{r(s),l(!0)},j=()=>{d&&h.delete(route("categories.destroy",d),{preserveScroll:!0}),l(!1),r(null)},f=()=>{l(!1),r(null)};return!a||a.role!=="admin"?e.jsx(N,{}):e.jsxs(y,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight",children:"Category Management"}),children:[e.jsx(b,{title:"Category"}),e.jsxs("div",{className:"overflow-x-auto mt-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(c,{href:route("categories.create"),className:"btn btn-primary",children:[e.jsx(C,{size:18}),"Add New Category"]})}),e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Created On"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:((i=t==null?void 0:t.data)==null?void 0:i.length)>0?t.data.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:v(s.created_at)}),e.jsxs("td",{className:"flex gap-2 justify-center",children:[e.jsxs(c,{href:route("categories.edit",s.id),className:"btn btn-warning",children:[e.jsx(w,{}),"Edit"]}),e.jsxs("button",{onClick:()=>u(s.id),className:"btn btn-error",children:[e.jsx(A,{}),"Delete"]})]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center py-4",children:"No categories found."})})})]}),(t==null?void 0:t.links)&&t.links.length>3&&e.jsx("div",{className:"mt-4",children:e.jsx(g,{links:t.links,onPageChange:x})})]}),e.jsx(D,{description:"Are you sure you want to delete this category? Deleting this category will also remove all products associated with it.",isOpen:m,onConfirm:j,onCancel:f})]})}export{J as default};
